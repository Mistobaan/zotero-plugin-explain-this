<linkset>
  <html:link rel="localization" href="__addonRef__-preferences.ftl" />
</linkset>
<vbox class="main-section">
  <groupbox flex="1" onload="Zotero.__addonInstance__.hooks.onPrefsEvent('load', { window });">
    <label>
      <html:h2 data-l10n-id="pref-title"></html:h2>
    </label>
    <checkbox id="zotero-prefpane-__addonRef__-enable" preference="enable" data-l10n-id="pref-enable" />

    <separator class="thin" />
    <description value="Select API" />
    <hbox class="virtualized-table-container" flex="1" style="max-height: 200px;">
      <html:div flex="1" id="__addonRef__-table-container" />
    </hbox>
    <separator class="thin" />

    <vbox id="__addonRef__-engine-config">
      <label>
        <html:h2>Engine Configuration</html:h2>
      </label>

      <vbox>
        <html:label for="zotero-prefpane-__addonRef__-prompt" data-l10n-id="pref-input"></html:label>
        <html:textarea flex="1" type="text" id="zotero-prefpane-__addonRef__-prompt" preference="prompt" rows="8">
        </html:textarea>
        
        <separator class="thin" />
        
        <vbox id="__addonRef__-api-key-section" style="margin-top: 10px;">
          <html:label id="__addonRef__-api-key-label">Select a provider above to configure API key</html:label>
          <html:input flex="1" type="password" id="__addonRef__-api-key-input" placeholder="Enter API key..." />
          <html:button id="__addonRef__-save-button" style="margin-top: 5px;">Save API Key</html:button>
        </vbox>
      </vbox>
    </vbox>
  </groupbox>
  <vbox>
    <html:label data-l10n-id="pref-help"
      data-l10n-args='{"time": "__buildTime__","name": "__addonName__","version":"__buildVersion__"}'></html:label>
  </vbox>

</vbox>